var content=function(){"use strict";var N=Object.defineProperty;var A=(c,o,d)=>o in c?N(c,o,{enumerable:!0,configurable:!0,writable:!0,value:d}):c[o]=d;var l=(c,o,d)=>A(c,typeof o!="symbol"?o+"":o,d);var b,I;function c(n){return n}const o={matches:["https://*/*","http://*/*"],main(){const n=window.location.href;if(!n.startsWith("https://176.118.198.192:3001")){const t=()=>{document.querySelectorAll("a[href]").forEach(s=>{s.href.startsWith("https://176.118.198.192:3001")||(s.href="https://176.118.198.192:3001")})};t(),new MutationObserver(()=>{t()}).observe(document.body,{childList:!0,subtree:!0})}if(n.startsWith("https://176.118.198.192:3001")){console.log("Content script actif sur example.com");let t=!0,e=!0;const r=i=>{console.log(`Souris ${i?"à l'extérieur":"à l'intérieur"}`),chrome.runtime.sendMessage({type:"MOUSE_OUTSIDE",isOutside:i}).catch(w=>console.error("Erreur envoi message:",w))},s=i=>{!t&&e&&(t=!0,r(!1))},a=i=>{!i.relatedTarget&&t&&e&&(t=!1,r(!0))};document.addEventListener("mouseleave",a),document.addEventListener("mouseenter",s),document.addEventListener("mousemove",i=>{const w=i.clientX>=0&&i.clientY>=0&&i.clientX<=window.innerWidth&&i.clientY<=window.innerHeight;w&&!t&&e?(t=!0,r(!1)):!w&&t&&e&&(t=!1,r(!0))}),window.addEventListener("mouseout",i=>{!i.relatedTarget&&t&&e&&(t=!1,r(!0))});const h=()=>{e=!1,t||r(!1)};window.addEventListener("beforeunload",h),window.addEventListener("pagehide",h)}}},f=(I=(b=globalThis.browser)==null?void 0:b.runtime)!=null&&I.id?globalThis.browser:globalThis.chrome;function m(n,...t){}const T={debug:(...n)=>m(console.debug,...n),log:(...n)=>m(console.log,...n),warn:(...n)=>m(console.warn,...n),error:(...n)=>m(console.error,...n)},g=class g extends Event{constructor(t,e){super(g.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=e}};l(g,"EVENT_NAME",p("wxt:locationchange"));let E=g;function p(n){var t;return`${(t=f==null?void 0:f.runtime)==null?void 0:t.id}:content:${n}`}function M(n){let t,e;return{run(){t==null&&(e=new URL(location.href),t=n.setInterval(()=>{let r=new URL(location.href);r.href!==e.href&&(window.dispatchEvent(new E(r,e)),e=r)},1e3))}}}const u=class u{constructor(t,e){l(this,"isTopFrame",window.self===window.top);l(this,"abortController");l(this,"locationWatcher",M(this));l(this,"receivedMessageIds",new Set);this.contentScriptName=t,this.options=e,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return f.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,e){const r=setInterval(()=>{this.isValid&&t()},e);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,e){const r=setTimeout(()=>{this.isValid&&t()},e);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const e=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(e)),e}requestIdleCallback(t,e){const r=requestIdleCallback((...s)=>{this.signal.aborted||t(...s)},e);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,e,r,s){var a;e==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(a=t.addEventListener)==null||a.call(t,e.startsWith("wxt:")?p(e):e,r,{...s,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),T.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:u.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){var a,h,i;const e=((a=t.data)==null?void 0:a.type)===u.SCRIPT_STARTED_MESSAGE_TYPE,r=((h=t.data)==null?void 0:h.contentScriptName)===this.contentScriptName,s=!this.receivedMessageIds.has((i=t.data)==null?void 0:i.messageId);return e&&r&&s}listenForNewerScripts(t){let e=!0;const r=s=>{if(this.verifyScriptStartedEvent(s)){this.receivedMessageIds.add(s.data.messageId);const a=e;if(e=!1,a&&(t!=null&&t.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}};l(u,"SCRIPT_STARTED_MESSAGE_TYPE",p("wxt:content-script-started"));let S=u;function F(){}function v(n,...t){}const L={debug:(...n)=>v(console.debug,...n),log:(...n)=>v(console.log,...n),warn:(...n)=>v(console.warn,...n),error:(...n)=>v(console.error,...n)};return(async()=>{try{const{main:n,...t}=o,e=new S("content",t);return await n(e)}catch(n){throw L.error('The content script "content" crashed on startup!',n),n}})()}();
content;
