var background=function(){"use strict";var m,f;function b(e){return e==null||typeof e=="function"?{main:e}:e}const v=b(()=>{let e=null,s=new Set;chrome.runtime.onMessage.addListener((r,i)=>{var o;if(r.type==="MOUSE_OUTSIDE"&&((o=i.tab)!=null&&o.id)){const g=i.tab.id;r.isOutside?s.add(g):s.delete(g),s.size>0&&!e?(console.log("Démarrage du mélange des onglets"),e=setInterval(async()=>{var h,p;try{const n=await chrome.tabs.query({currentWindow:!0});if(n.length>1){const l=n.map((t,a)=>a);for(let t=l.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[l[t],l[a]]=[l[a],l[t]]}for(let t=0;t<n.length;t++)n[t].id&&l[t]!==t&&await chrome.tabs.move((h=n[t])==null?void 0:h.id,{index:l[t]});for(let t=0;t<n.length;t++)n[t].id&&await chrome.scripting.executeScript({target:{tabId:(p=n[t])==null?void 0:p.id},func:a=>{document.title=a},args:["example.com"]})}}catch(n){console.error("Erreur lors du mélange des onglets:",n)}},100)):s.size===0&&e&&(console.log("Arrêt du mélange des onglets"),clearInterval(e),e=null)}}),chrome.tabs.onRemoved.addListener(r=>{s.delete(r),s.size===0&&e&&(clearInterval(e),e=null)});const c=new Set;chrome.tabs.onUpdated.addListener((r,i,o)=>{i.status==="complete"&&o.url&&(o.url.startsWith("https://example.com")?(c.add(r),console.log(`Onglet example.com détecté: ${r}`)):c.delete(r))}),chrome.tabs.onRemoved.addListener(async(r,i)=>{if(c.has(r)){console.log(`Onglet example.com fermé: ${r}`);try{await chrome.notifications.create({type:"basic",iconUrl:"/icons/128.png",title:"Stupidos aves s",message:"Bravo ! Tu viens de perdre ton temps sur un site inutile 🎉				Félicitations ! Tu as réussi à gaspiller quelques minutes précieuses 👏				Mission accomplie : temps perdu avec succès ⏰				Wow ! Quel usage productif de ton temps libre ! 😂				Tu peux être fier(e) : tu viens de visiter le site le plus inutile du web 🏆				Bravo Einstein ! Tu as découvert la futilité incarnée 🧠				Temps bien investi ! (Non, je rigole) 🤡"})}catch(o){console.error("Erreur notification:",o)}c.delete(r)}}),chrome.tabs.query({},r=>{r.forEach(i=>{var o;(o=i.url)!=null&&o.startsWith("https://example.com")&&i.id&&c.add(i.id)})})});function T(){}(f=(m=globalThis.browser)==null?void 0:m.runtime)!=null&&f.id?globalThis.browser:globalThis.chrome;function u(e,...s){}const w={debug:(...e)=>u(console.debug,...e),log:(...e)=>u(console.log,...e),warn:(...e)=>u(console.warn,...e),error:(...e)=>u(console.error,...e)};let d;try{d=v.main(),d instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(e){throw w.error("The background crashed on startup!"),e}return d}();
background;
